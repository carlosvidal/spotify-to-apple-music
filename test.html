<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Página de Prueba - Spotify to Apple Music</title>
    <style>
      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          sans-serif;
        max-width: 800px;
        margin: 0 auto;
        padding: 20px;
        line-height: 1.6;
      }

      .header {
        text-align: center;
        margin-bottom: 40px;
        padding: 20px;
        background: linear-gradient(135deg, #1db954, #1ed760);
        color: white;
        border-radius: 10px;
      }

      .test-section {
        background: #f8f9fa;
        padding: 20px;
        margin: 20px 0;
        border-radius: 8px;
        border-left: 4px solid #1db954;
      }

      .spotify-link {
        display: inline-block;
        background: #1db954;
        color: white;
        padding: 8px 16px;
        text-decoration: none;
        border-radius: 20px;
        margin: 5px;
        transition: background 0.3s;
      }

      .spotify-link:hover {
        background: #1ed760;
        color: white;
        text-decoration: none;
      }

      .instructions {
        background: #e3f2fd;
        padding: 15px;
        border-radius: 5px;
        margin: 15px 0;
      }

      code {
        background: #f5f5f5;
        padding: 2px 6px;
        border-radius: 3px;
        font-family: "Monaco", "Consolas", monospace;
      }
    </style>
  </head>
  <body>
    <div class="header">
      <h1>🎵 Página de Prueba</h1>
      <p>Spotify to Apple Music Extension</p>
    </div>

    <div class="instructions">
      <h3>📋 Instrucciones de prueba:</h3>
      <ol>
        <li>
          Asegúrate de tener la extensión
          <strong>Spotify to Apple Music</strong> instalada y habilitada
        </li>
        <li>Haz click en cualquiera de los links de Spotify de abajo</li>
        <li>
          La extensión debería interceptar el click y abrir Apple Music
          automáticamente
        </li>
        <li>
          También puedes probar el click derecho → "Convertir a Apple Music"
        </li>
      </ol>
    </div>

    <div class="test-section">
      <h3>🎵 Canciones populares</h3>
      <p>
        Estos links deberían convertirse a búsquedas de canciones específicas en
        Apple Music:
      </p>

      <a
        href="https://open.spotify.com/track/4iV5W9uYEdYUVa79Axb7Rh"
        class="spotify-link"
        target="_blank"
      >
        🎵 Never Gonna Give You Up - Rick Astley
      </a>

      <a
        href="https://open.spotify.com/track/6habFhsOp2NvshLv26DqMb"
        class="spotify-link"
        target="_blank"
      >
        🎵 Shape of You - Ed Sheeran
      </a>

      <a
        href="https://open.spotify.com/track/7qiZfU4dY1lWllzX7mPBI3"
        class="spotify-link"
        target="_blank"
      >
        🎵 Blinding Lights - The Weeknd
      </a>

      <a
        href="https://open.spotify.com/track/0VjIjW4GlULA4LGvWeF43P"
        class="spotify-link"
        target="_blank"
      >
        🎵 Despacito - Luis Fonsi ft. Daddy Yankee
      </a>
    </div>

    <div class="test-section">
      <h3>💿 Álbumes</h3>
      <p>Estos links deberían convertirse a búsquedas de álbumes completos:</p>

      <a
        href="https://open.spotify.com/album/1DFixLWuPkv3KT3TnV35m3"
        class="spotify-link"
        target="_blank"
      >
        💿 After Hours - The Weeknd
      </a>

      <a
        href="https://open.spotify.com/album/6DEjYFkNZh67HP7R9PSZvv"
        class="spotify-link"
        target="_blank"
      >
        💿 ÷ (Divide) - Ed Sheeran
      </a>

      <a
        href="https://open.spotify.com/album/2QJmrSgbdM35R67eoGQo4j"
        class="spotify-link"
        target="_blank"
      >
        💿 Abbey Road - The Beatles
      </a>
    </div>

    <div class="test-section">
      <h3>👨‍🎤 Artistas</h3>
      <p>Estos links deberían abrir páginas de artistas en Apple Music:</p>

      <a
        href="https://open.spotify.com/artist/1dfeR4HaWDbWqFHLkxsg1d"
        class="spotify-link"
        target="_blank"
      >
        👨‍🎤 Queen
      </a>

      <a
        href="https://open.spotify.com/artist/1Xyo4u8uXC1ZmMpatF05PJ"
        class="spotify-link"
        target="_blank"
      >
        👨‍🎤 The Weeknd
      </a>

      <a
        href="https://open.spotify.com/artist/6eUKZXaKkcviH0Ku9w2n3V"
        class="spotify-link"
        target="_blank"
      >
        👨‍🎤 Ed Sheeran
      </a>

      <a
        href="https://open.spotify.com/artist/3TVXtAsR1Inumwj472S9r4"
        class="spotify-link"
        target="_blank"
      >
        👨‍🎤 Drake
      </a>
    </div>

    <div class="test-section">
      <h3>📱 Playlists</h3>
      <p>
        Estos links deberían convertirse a búsquedas relacionadas con las
        playlists:
      </p>

      <a
        href="https://open.spotify.com/playlist/37i9dQZF1DXcBWIGoYBM5M"
        class="spotify-link"
        target="_blank"
      >
        📱 Today's Top Hits
      </a>

      <a
        href="https://open.spotify.com/playlist/37i9dQZF1DX0XUsuxWHRQd"
        class="spotify-link"
        target="_blank"
      >
        📱 RapCaviar
      </a>

      <a
        href="https://open.spotify.com/playlist/37i9dQZF1DWXRqgorJj26U"
        class="spotify-link"
        target="_blank"
      >
        📱 Rock Classics
      </a>
    </div>

    <div class="test-section">
      <h3>🧪 Casos especiales</h3>
      <p>Links para probar casos límite y manejo de errores:</p>

      <a
        href="https://open.spotify.com/track/invalidtrackid123"
        class="spotify-link"
        target="_blank"
      >
        ❌ Link inválido (debería ir a búsqueda general)
      </a>

      <a
        href="https://spotify.com/track/4iV5W9uYEdYUVa79Axb7Rh"
        class="spotify-link"
        target="_blank"
      >
        🔄 Link sin 'open' (debería funcionar igual)
      </a>
    </div>

    <div class="instructions">
      <h3>🔍 ¿Qué debería pasar?</h3>
      <ul>
        <li>
          <strong>Loading:</strong> Deberías ver un indicador "🔄 Convirtiendo a
          Apple Music..." brevemente
        </li>
        <li>
          <strong>Redirección:</strong> Se debería abrir una nueva pestaña con
          Apple Music
        </li>
        <li>
          <strong>Búsqueda:</strong> Apple Music debería mostrar resultados
          relacionados con el contenido de Spotify
        </li>
        <li>
          <strong>Fallback:</strong> Si no encuentra el contenido exacto, se
          abrirá la página de búsqueda de Apple Music
        </li>
      </ul>
    </div>

    <div class="test-section">
      <h3>🛠️ Depuración</h3>
      <p>Si algo no funciona:</p>
      <ol>
        <li>Abre DevTools (F12) y ve a la pestaña <code>Console</code></li>
        <li>Busca mensajes como <code>"Link de Spotify interceptado"</code></li>
        <li>
          Verifica que la extensión esté habilitada en
          <code>chrome://extensions/</code>
        </li>
        <li>Haz click en el ícono de la extensión para ver estadísticas</li>
      </ol>
    </div>

    <script>
      // Script opcional para mostrar información adicional de depuración
      console.log("Página de prueba cargada");
      console.log(
        "Links de Spotify encontrados:",
        document.querySelectorAll('a[href*="spotify.com"]').length
      );

      // Detectar cuando la extensión está funcionando
      window.addEventListener("message", function (event) {
        if (event.data.type === "SPOTIFY_LINK_CONVERTED") {
          console.log("✅ Link convertido exitosamente:", event.data.url);
        }
      });

      // Añadir event listener para debug
      document.addEventListener("click", function (e) {
        if (e.target.href && e.target.href.includes("spotify.com")) {
          console.log("🎵 Click detectado en link de Spotify:", e.target.href);
        }
      });
    </script>
  </body>
</html>
